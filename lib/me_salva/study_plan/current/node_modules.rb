# frozen_string_literal: true

module MeSalva
  module StudyPlan
    module Current
      class NodeModules
        def self.completed_ids(user_id)
          ::StudyPlan
            .where(user_id: user_id)
            .order('created_at desc')
            .first
            .study_plan_node_modules
            .where(completed: true)
            .pluck(:node_module_id)
        end
      end
    end
  end
end
